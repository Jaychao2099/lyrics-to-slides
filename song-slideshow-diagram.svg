<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 750" font-family="Arial, sans-serif">
  <!-- 背景 -->
  <rect width="1000" height="750" fill="#f8f9fa" rx="8" ry="8"/>
  
  <!-- 標題區域 -->
  <rect x="50" y="30" width="900" height="70" fill="#4361ee" rx="6" ry="6">
    <animate attributeName="opacity" values="0.9;1;0.9" dur="3s" repeatCount="indefinite" />
  </rect>
  <text x="500" y="75" font-size="32" font-weight="bold" text-anchor="middle" fill="white">歌曲投影片生成器 - 系統架構</text>
  
  <!-- 主要階段分類 -->
  <rect x="50" y="120" width="900" height="40" fill="#3a0ca3" rx="4" ry="4" opacity="0.9"/>
  <text x="150" y="145" font-size="18" font-weight="bold" text-anchor="middle" fill="white">問題</text>
  <text x="500" y="145" font-size="18" font-weight="bold" text-anchor="middle" fill="white">過程</text>
  <text x="850" y="145" font-size="18" font-weight="bold" text-anchor="middle" fill="white">解決方案</text>
  
  <!-- 問題區塊 -->
  <rect x="50" y="170" width="200" height="530" fill="#4895ef" rx="6" ry="6" opacity="0.15"/>
  <rect x="70" y="190" width="160" height="70" fill="#4895ef" rx="5" ry="5" opacity="0.8"/>
  <text x="150" y="215" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">需求挑戰</text>
  <text x="150" y="240" font-size="12" text-anchor="middle" fill="#444">歌名 → 投影片</text>
  
  <!-- 輸入需求列表 -->
  <rect x="80" y="270" width="140" height="180" fill="white" stroke="#4895ef" stroke-width="1.5" rx="5" ry="5"/>
  <text x="100" y="290" font-size="12" font-weight="bold" fill="#333">用戶輸入需求:</text>
  <text x="100" y="315" font-size="11" fill="#555">• 歌曲名稱輸入</text>
  <text x="100" y="335" font-size="11" fill="#555">• 歌詞搜尋功能</text>
  <text x="100" y="355" font-size="11" fill="#555">• 歌詞編輯功能</text>
  <text x="100" y="375" font-size="11" fill="#555">• 相關圖片生成</text>
  <text x="100" y="395" font-size="11" fill="#555">• 圖片預覽與替換</text>
  <text x="100" y="415" font-size="11" fill="#555">• Markdown排版</text>
  <text x="100" y="435" font-size="11" fill="#555">• 多格式輸出</text>
  
  <!-- 配置需求列表 -->
  <rect x="80" y="460" width="140" height="180" fill="white" stroke="#4895ef" stroke-width="1.5" rx="5" ry="5"/>
  <text x="100" y="480" font-size="12" font-weight="bold" fill="#333">設定需求:</text>
  <text x="100" y="505" font-size="11" fill="#555">• API金鑰管理</text>
  <text x="100" y="525" font-size="11" fill="#555">• AI模型選擇</text>
  <text x="100" y="545" font-size="11" fill="#555">• Prompt自訂</text>
  <text x="100" y="565" font-size="11" fill="#555">• 模板系統</text>
  <text x="100" y="585" font-size="11" fill="#555">• 使用統計追蹤</text>
  <text x="100" y="605" font-size="11" fill="#555">• 資源成本管理</text>
  
  <!-- 過程區塊 -->
  <rect x="260" y="170" width="480" height="530" fill="#4cc9f0" rx="6" ry="6" opacity="0.15"/>
  
  <!-- 核心流程圖 -->
  <!-- 模組框 1: 輸入模組 -->
  <rect x="290" y="190" width="100" height="80" fill="#4cc9f0" rx="6" ry="6" opacity="0.8"/>
  <text x="340" y="220" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">輸入模組</text>
  <text x="340" y="240" font-size="10" text-anchor="middle" fill="#444">歌曲名稱</text>
  <text x="340" y="255" font-size="10" text-anchor="middle" fill="#444">批量處理</text>
  
  <!-- 模組框 2: 歌詞搜尋 -->
  <rect x="290" y="285" width="100" height="80" fill="#4cc9f0" rx="6" ry="6" opacity="0.8"/>
  <text x="340" y="315" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">歌詞搜尋</text>
  <text x="340" y="335" font-size="10" text-anchor="middle" fill="#444">AI API調用</text>
  <text x="340" y="350" font-size="10" text-anchor="middle" fill="#444">深度搜尋</text>
  
  <!-- 模組框新增: 歌詞編輯器 -->
  <rect x="290" y="380" width="100" height="80" fill="#f72585" rx="6" ry="6" opacity="0.8"/>
  <text x="340" y="410" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">歌詞編輯器</text>
  <text x="340" y="430" font-size="10" text-anchor="middle" fill="#fff">手動修改</text>
  <text x="340" y="445" font-size="10" text-anchor="middle" fill="#fff">段落調整</text>
  
  <!-- 模組框 3: 圖片生成 -->
  <rect x="290" y="475" width="100" height="80" fill="#4cc9f0" rx="6" ry="6" opacity="0.8"/>
  <text x="340" y="505" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">圖片生成</text>
  <text x="340" y="525" font-size="10" text-anchor="middle" fill="#444">AI生成圖像</text>
  <text x="340" y="540" font-size="10" text-anchor="middle" fill="#444">臨時儲存</text>
  
  <!-- 模組框新增: 圖片預覽與替換 -->
  <rect x="290" y="570" width="100" height="80" fill="#f72585" rx="6" ry="6" opacity="0.8"/>
  <text x="340" y="600" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">圖片管理</text>
  <text x="340" y="620" font-size="10" text-anchor="middle" fill="#fff">預覽與替換</text>
  <text x="340" y="635" font-size="10" text-anchor="middle" fill="#fff">自訂上傳</text>
  
  <!-- 模組框 4: 排版處理 -->
  <rect x="450" y="245" width="110" height="80" fill="#4cc9f0" rx="6" ry="6" opacity="0.8"/>
  <text x="505" y="275" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">排版處理</text>
  <text x="505" y="295" font-size="10" text-anchor="middle" fill="#444">Markdown格式</text>
  <text x="505" y="310" font-size="10" text-anchor="middle" fill="#444">Marp語法</text>
  
  <!-- 模組框新增: 模板系統 -->
  <rect x="450" y="335" width="110" height="80" fill="#f72585" rx="6" ry="6" opacity="0.8"/>
  <text x="505" y="365" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">模板系統</text>
  <text x="505" y="385" font-size="10" text-anchor="middle" fill="#fff">多風格模板</text>
  <text x="505" y="400" font-size="10" text-anchor="middle" fill="#fff">自訂排版</text>
  
  <!-- 模組框 5: 匯出系統 -->
  <rect x="450" y="425" width="110" height="80" fill="#4cc9f0" rx="6" ry="6" opacity="0.8"/>
  <text x="505" y="455" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">匯出系統</text>
  <text x="505" y="475" font-size="10" text-anchor="middle" fill="#444">PPT, PDF</text>
  <text x="505" y="490" font-size="10" text-anchor="middle" fill="#444">批量處理</text>
  
  <!-- 模組框新增: 使用統計與資源管理 -->
  <rect x="450" y="515" width="110" height="80" fill="#f72585" rx="6" ry="6" opacity="0.8"/>
  <text x="505" y="545" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">資源管理</text>
  <text x="505" y="565" font-size="10" text-anchor="middle" fill="#fff">API使用量</text>
  <text x="505" y="580" font-size="10" text-anchor="middle" fill="#fff">成本追蹤</text>
  
  <!-- 模組框 6: 設定管理 -->
  <rect x="610" y="245" width="100" height="270" fill="#4cc9f0" rx="6" ry="6" opacity="0.8"/>
  <text x="660" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">設定管理</text>
  
  <!-- 設定模組子項目 -->
  <rect x="620" y="280" width="80" height="30" fill="white" rx="4" ry="4" stroke="#4cc9f0" stroke-width="1"/>
  <text x="660" y="298" font-size="9" text-anchor="middle" fill="#444">API金鑰</text>
  
  <rect x="620" y="320" width="80" height="30" fill="white" rx="4" ry="4" stroke="#4cc9f0" stroke-width="1"/>
  <text x="660" y="338" font-size="9" text-anchor="middle" fill="#444">AI模型選擇</text>
  
  <rect x="620" y="360" width="80" height="30" fill="white" rx="4" ry="4" stroke="#4cc9f0" stroke-width="1"/>
  <text x="660" y="378" font-size="9" text-anchor="middle" fill="#444">Prompt管理</text>
  
  <rect x="620" y="400" width="80" height="30" fill="white" rx="4" ry="4" stroke="#4cc9f0" stroke-width="1"/>
  <text x="660" y="418" font-size="9" text-anchor="middle" fill="#444">模板設定</text>
  
  <rect x="620" y="440" width="80" height="30" fill="white" rx="4" ry="4" stroke="#f72585" stroke-width="1.5"/>
  <text x="660" y="458" font-size="9" text-anchor="middle" fill="#444">資源監控</text>
  
  <rect x="620" y="480" width="80" height="30" fill="white" rx="4" ry="4" stroke="#4cc9f0" stroke-width="1"/>
  <text x="660" y="498" font-size="9" text-anchor="middle" fill="#444">系統設定</text>
  
  <!-- 資料流向箭頭 -->
  <!-- 輸入到歌詞搜尋 -->
  <path d="M340 270 L340 285" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 歌詞搜尋到歌詞編輯器 -->
  <path d="M340 365 L340 380" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 歌詞編輯器到圖片生成 -->
  <path d="M340 460 L340 475" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 圖片生成到圖片管理 -->
  <path d="M340 555 L340 570" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 輸入到排版 -->
  <path d="M390 230 L450 260" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 歌詞編輯器到排版 -->
  <path d="M390 430 Q420 350 450 300" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 圖片管理到排版 -->
  <path d="M390 610 Q420 420 460 325" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 排版到模板系統 -->
  <path d="M505 325 L505 335" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 模板系統到匯出 -->
  <path d="M505 415 L505 425" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 匯出到資源管理 -->
  <path d="M505 505 L505 515" stroke="#333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 設定到各模組的連接 -->
  <path d="M610 285 L520 245 Q450 220 390 220" stroke="#333" stroke-width="1" stroke-dasharray="4" fill="none" marker-end="url(#arrow)"/>
  <path d="M610 330 L390 330" stroke="#333" stroke-width="1" stroke-dasharray="4" fill="none" marker-end="url(#arrow)"/>
  <path d="M610 370 L390 420" stroke="#333" stroke-width="1" stroke-dasharray="4" fill="none" marker-end="url(#arrow)"/>
  <path d="M610 410 L550 375" stroke="#333" stroke-width="1" stroke-dasharray="4" fill="none" marker-end="url(#arrow)"/>
  <path d="M610 450 L550 550" stroke="#333" stroke-width="1" stroke-dasharray="4" fill="none" marker-end="url(#arrow)"/>
  <path d="M610 490 L390 520" stroke="#333" stroke-width="1" stroke-dasharray="4" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 資料流程說明 -->
  <rect x="290" y="660" width="420" height="70" fill="white" stroke="#4cc9f0" stroke-width="1.5" rx="5" ry="5"/>
  <text x="500" y="675" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">核心資料流程</text>
  <text x="310" y="695" font-size="11" fill="#444">1. 輸入歌曲名稱 → 搜尋歌詞 → 編輯歌詞 → 生成圖片 → 圖片管理</text>
  <text x="310" y="715" font-size="11" fill="#444">2. 資料整合到排版系統，應用模板，準備匯出並追蹤資源使用情況</text>
  
  <!-- 解決方案區塊 -->
  <rect x="750" y="170" width="200" height="530" fill="#3a0ca3" rx="6" ry="6" opacity="0.15"/>
  
  <!-- 解決方案標題 -->
  <rect x="770" y="190" width="160" height="70" fill="#3a0ca3" rx="5" ry="5" opacity="0.8"/>
  <text x="850" y="215" font-size="16" font-weight="bold" text-anchor="middle" fill="white">系統成果</text>
  <text x="850" y="240" font-size="12" text-anchor="middle" fill="white">自動化投影片生成</text>
  
  <!-- 成果流程圖 -->
  <rect x="780" y="280" width="140" height="350" fill="white" stroke="#3a0ca3" stroke-width="1.5" rx="8" ry="8"/>
  
  <!-- 結果步驟 -->
  <circle cx="800" cy="310" r="12" fill="#3a0ca3" opacity="0.7"/>
  <text x="800" y="314" font-size="12" font-weight="bold" text-anchor="middle" fill="white">1</text>
  <text x="865" y="315" font-size="12" fill="#333">輸入歌名</text>
  
  <line x1="800" y1="322" x2="800" y2="348" stroke="#3a0ca3" stroke-width="2"/>
  
  <circle cx="800" cy="360" r="12" fill="#3a0ca3" opacity="0.7"/>
  <text x="800" y="364" font-size="12" font-weight="bold" text-anchor="middle" fill="white">2</text>
  <text x="865" y="365" font-size="12" fill="#333">取得歌詞</text>
  
  <line x1="800" y1="372" x2="800" y2="398" stroke="#3a0ca3" stroke-width="2"/>
  
  <circle cx="800" cy="410" r="12" fill="#f72585" opacity="0.8"/>
  <text x="800" y="414" font-size="12" font-weight="bold" text-anchor="middle" fill="white">3</text>
  <text x="865" y="415" font-size="12" fill="#333">編輯歌詞</text>
  
  <line x1="800" y1="422" x2="800" y2="448" stroke="#3a0ca3" stroke-width="2"/>
  
  <circle cx="800" cy="460" r="12" fill="#3a0ca3" opacity="0.7"/>
  <text x="800" y="464" font-size="12" font-weight="bold" text-anchor="middle" fill="white">4</text>
  <text x="865" y="465" font-size="12" fill="#333">生成背景圖</text>
  
  <line x1="800" y1="472" x2="800" y2="498" stroke="#3a0ca3" stroke-width="2"/>
  
  <circle cx="800" cy="510" r="12" fill="#f72585" opacity="0.8"/>
  <text x="800" y="514" font-size="12" font-weight="bold" text-anchor="middle" fill="white">5</text>
  <text x="865" y="515" font-size="12" fill="#333">圖片管理</text>
  
  <line x1="800" y1="522" x2="800" y2="548" stroke="#3a0ca3" stroke-width="2"/>
  
  <circle cx="800" cy="560" r="12" fill="#f72585" opacity="0.8"/>
  <text x="800" y="564" font-size="12" font-weight="bold" text-anchor="middle" fill="white">6</text>
  <text x="865" y="565" font-size="12" fill="#333">套用模板</text>
  
  <line x1="800" y1="572" x2="800" y2="598" stroke="#3a0ca3" stroke-width="2"/>
  
  <circle cx="800" cy="610" r="12" fill="#3a0ca3" opacity="0.7"/>
  <text x="800" y="614" font-size="12" font-weight="bold" text-anchor="middle" fill="white">7</text>
  <text x="865" y="615" font-size="12" fill="#333">檔案匯出</text>
  
  <!-- 最終成果 -->
  <rect x="780" y="650" width="140" height="50" fill="#3a0ca3" rx="6" ry="6" opacity="0.8"/>
  <text x="850" y="680" font-size="12" font-weight="bold" text-anchor="middle" fill="white">歌曲投影片</text>
  
  <!-- 箭頭標記定義 -->
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5"
      markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333"/>
    </marker>
  </defs>
  
  <!-- 圖示 -->
  <!-- 輸入圖示 -->
  <circle cx="290" cy="190" r="10" fill="#f72585" opacity="0.8"/>
  <text x="290" y="195" font-size="12" font-weight="bold" text-anchor="middle" fill="white">📝</text>
  
  <!-- 處理圖示 -->
  <circle cx="450" cy="245" r="10" fill="#7209b7" opacity="0.8"/>
  <text x="450" y="249" font-size="10" font-weight="bold" text-anchor="middle" fill="white">⚙️</text>
  
  <!-- 模板圖示 -->
  <circle cx="450" cy="335" r="10" fill="#f72585" opacity="0.8"/>
  <text x="450" y="339" font-size="10" font-weight="bold" text-anchor="middle" fill="white">🎨</text>
  
  <!-- 輸出圖示 -->
  <circle cx="450" cy="425" r="10" fill="#3f37c9" opacity="0.8"/>
  <text x="450" y="429" font-size="10" font-weight="bold" text-anchor="middle" fill="white">💾</text>
  
  <!-- 資源管理圖示 -->
  <circle cx="450" cy="515" r="10" fill="#f72585" opacity="0.8"/>
  <text x="450" y="519" font-size="10" font-weight="bold" text-anchor="middle" fill="white">📊</text>
  
  <!-- 設定圖示 -->
  <circle cx="610" cy="245" r="10" fill="#560bad" opacity="0.8"/>
  <text x="610" y="249" font-size="10" font-weight="bold" text-anchor="middle" fill="white">⚙️</text>
  
  <!-- 頁腳 -->
  <text x="500" y="740" font-size="12" text-anchor="middle" fill="#666">歌曲投影片生成器 © 系統架構圖 v2.0</text>
</svg>
